@page
@model DownloadModel
@{
    ViewData["Title"] = "Download";
}

<section class="hero" style="min-height: 50vh;">
    <div class="container">
        <div class="hero-content">
            <i class="fas fa-download hero-shield"></i>
            <h1>Download Monolith Firewall</h1>
            <p class="lead">Get the latest ISO image for your platform</p>
        </div>
    </div>
</section>

<section class="section">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-8">
                <div class="download-card">
                    <i class="fas fa-compact-disc download-icon"></i>
                    <h2 style="color: var(--text-primary); margin-bottom: 2rem;">Choose Your Architecture</h2>

                    <form id="downloadForm" class="mb-4">
                        <div class="mb-4">
                            <label for="architecture" class="form-label" style="font-size: 1.1rem; color: var(--text-primary);">
                                <i class="fas fa-microchip"></i> Architecture
                            </label>
                            <select class="form-select form-select-lg" id="architecture" name="architecture">
                                <option value="amd64" selected>AMD64 / x86_64 (64-bit)</option>
                                <option value="arm64">ARM64 (64-bit ARM)</option>
                            </select>
                        </div>

                        <button type="button" onclick="downloadISO(document.getElementById('architecture').value)" class="btn btn-primary btn-lg">
                            <i class="fas fa-download"></i> Download Latest ISO
                        </button>
                    </form>

                    <div class="alert alert-info mt-4">
                        <i class="fas fa-info-circle"></i>
                        <strong>Note:</strong> The download will start automatically. Make sure to verify the ISO checksum after download.
                    </div>

                    <hr style="border-color: rgba(0, 212, 255, 0.2); margin: 3rem 0;">

                    <div class="text-start">
                        <h4 style="color: var(--primary-color); margin-bottom: 1.5rem;">
                            <i class="fas fa-file-archive"></i> Download Links
                        </h4>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <div class="feature-card">
                                    <h5><i class="fab fa-linux"></i> AMD64</h5>
                                    <p class="mb-3" style="font-size: 0.9rem;">For Intel and AMD 64-bit processors</p>
                                    <a href="https://downloads.monolithfirewall.com/builds/latest-amd64.iso"
                                       class="btn btn-outline-primary"
                                       download="monolith-firewall-latest-amd64.iso">
                                        <i class="fas fa-download"></i> Direct Download
                                    </a>
                                </div>
                            </div>
                            <div class="col-md-6 mb-3">
                                <div class="feature-card">
                                    <h5><i class="fas fa-microchip"></i> ARM64</h5>
                                    <p class="mb-3" style="font-size: 0.9rem;">For ARM-based 64-bit processors</p>
                                    <a href="https://downloads.monolithfirewall.com/builds/latest-arm64.iso"
                                       class="btn btn-outline-primary"
                                       download="monolith-firewall-latest-arm64.iso">
                                        <i class="fas fa-download"></i> Direct Download
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="section" style="background: var(--dark-bg-secondary);">
    <div class="container">
        <h2 class="section-title">After Downloading</h2>
        <div class="row">
            <div class="col-md-4 mb-4">
                <div class="feature-card">
                    <i class="fas fa-check-circle feature-icon"></i>
                    <h3>Verify Checksum</h3>
                    <p>Verify the integrity of your download using SHA256 checksums to ensure the file hasn't been corrupted or tampered with.</p>
                    <div class="code-block mt-3">
                        <code>sha256sum monolith-firewall-*.iso</code>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="feature-card">
                    <i class="fas fa-burn feature-icon"></i>
                    <h3>Create Bootable Media</h3>
                    <p>Write the ISO to a USB drive or burn to a DVD. We recommend using tools like Rufus (Windows) or dd (Linux).</p>
                    <div class="code-block mt-3">
                        <code>dd if=monolith-*.iso of=/dev/sdX bs=4M</code>
                    </div>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="feature-card">
                    <i class="fas fa-rocket feature-icon"></i>
                    <h3>Install & Configure</h3>
                    <p>Boot from the media and follow our comprehensive installation guide to set up your firewall.</p>
                    <a asp-page="/Docs/Installation" class="btn btn-outline-primary mt-3">
                        <i class="fas fa-book"></i> Installation Guide
                    </a>
                </div>
            </div>
        </div>
    </div>
</section>

<section class="section">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-md-6">
                <h2 style="color: var(--primary-color); margin-bottom: 2rem;">
                    <i class="fas fa-question-circle"></i> Need Help?
                </h2>
                <p style="color: var(--text-secondary); font-size: 1.1rem; line-height: 1.8;">
                    Check out our comprehensive documentation for installation guides, configuration examples, and troubleshooting tips.
                    Join our community on GitHub for support and discussions.
                </p>
                <div class="mt-4">
                    <a asp-page="/Docs/Index" class="btn btn-primary me-3">
                        <i class="fas fa-book"></i> View Documentation
                    </a>
                    <a href="https://github.com" target="_blank" class="btn btn-outline-primary">
                        <i class="fab fa-github"></i> GitHub Issues
                    </a>
                </div>
            </div>
            <div class="col-md-6">
                <div class="feature-card">
                    <h4 style="color: var(--primary-color); margin-bottom: 1.5rem;">
                        <i class="fas fa-info-circle"></i> System Information
                    </h4>
                    <table style="width: 100%; color: var(--text-secondary);">
                        <tr>
                            <td style="padding: 0.5rem;"><strong>Base OS:</strong></td>
                            <td style="padding: 0.5rem;">Debian 13 (Trixie)</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.5rem;"><strong>Framework:</strong></td>
                            <td style="padding: 0.5rem;">.NET 10</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.5rem;"><strong>ISO Size:</strong></td>
                            <td style="padding: 0.5rem;">~800 MB</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.5rem;"><strong>License:</strong></td>
                            <td style="padding: 0.5rem;">MIT License</td>
                        </tr>
                        <tr>
                            <td style="padding: 0.5rem;"><strong>Release:</strong></td>
                            <td style="padding: 0.5rem;">Rolling (Latest)</td>
                        </tr>
                    </table>
                </div>
            </div>
        </div>
    </div>
</section>
